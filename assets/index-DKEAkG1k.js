import{c as ge,z as fe,A as Ne,r as x,E as He,F as Ce,j as e,G as Ge,H as I,I as Ke,J as Ue,K as M,L as be,d as D,D as P,i as F,k as O,l as q,p as L,B as v,t as S,h as w,f as k,q as _,s as V,v as $,w as B,x as N,y as H,N as ze,O as Xe,Q as Je,m as xe}from"./index-DVFDKlcv.js";import{C as G,a as K,b as U,d as z,c as X}from"./card-PyWpcb_t.js";import{T as J,a as Q,b as C,c as m,d as W,e as u}from"./table-G3B3Mup_.js";import{I as b,S as me}from"./input-CqL1aFUt.js";import{L as g}from"./label-DuOUMB3r.js";import{P as Y}from"./plus-BRTevXWx.js";import{E as Z}from"./ellipsis-bOgJXUvn.js";import{u as Qe,S as le,a as ce,b as de,c as oe,d as he}from"./select-Bn3wcZhV.js";/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var ue="Tabs",[We,ws]=fe(ue,[Ne]),ye=Ne(),[Ye,je]=We(ue),we=x.forwardRef((t,l)=>{const{__scopeTabs:i,value:s,onValueChange:c,defaultValue:a,orientation:n="horizontal",dir:o,activationMode:r="automatic",...h}=t,d=He(o),[j,p]=Ce({prop:s,onChange:c,defaultProp:a});return e.jsx(Ye,{scope:i,baseId:Ge(),value:j,onValueChange:p,orientation:n,dir:d,activationMode:r,children:e.jsx(I.div,{dir:d,"data-orientation":n,...h,ref:l})})});we.displayName=ue;var ke="TabsList",Te=x.forwardRef((t,l)=>{const{__scopeTabs:i,loop:s=!0,...c}=t,a=je(ke,i),n=ye(i);return e.jsx(Ke,{asChild:!0,...n,orientation:a.orientation,dir:a.dir,loop:s,children:e.jsx(I.div,{role:"tablist","aria-orientation":a.orientation,...c,ref:l})})});Te.displayName=ke;var Re="TabsTrigger",Ee=x.forwardRef((t,l)=>{const{__scopeTabs:i,value:s,disabled:c=!1,...a}=t,n=je(Re,i),o=ye(i),r=Ae(n.baseId,s),h=Me(n.baseId,s),d=s===n.value;return e.jsx(Ue,{asChild:!0,...o,focusable:!c,active:d,children:e.jsx(I.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":h,"data-state":d?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:r,...a,ref:l,onMouseDown:M(t.onMouseDown,j=>{!c&&j.button===0&&j.ctrlKey===!1?n.onValueChange(s):j.preventDefault()}),onKeyDown:M(t.onKeyDown,j=>{[" ","Enter"].includes(j.key)&&n.onValueChange(s)}),onFocus:M(t.onFocus,()=>{const j=n.activationMode!=="manual";!d&&!c&&j&&n.onValueChange(s)})})})});Ee.displayName=Re;var Se="TabsContent",Ie=x.forwardRef((t,l)=>{const{__scopeTabs:i,value:s,forceMount:c,children:a,...n}=t,o=je(Se,i),r=Ae(o.baseId,s),h=Me(o.baseId,s),d=s===o.value,j=x.useRef(d);return x.useEffect(()=>{const p=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(p)},[]),e.jsx(be,{present:c||d,children:({present:p})=>e.jsx(I.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":r,hidden:!p,id:h,tabIndex:0,...n,ref:l,style:{...t.style,animationDuration:j.current?"0s":void 0},children:p&&a})})});Ie.displayName=Se;function Ae(t,l){return`${t}-trigger-${l}`}function Me(t,l){return`${t}-content-${l}`}var Ze=we,De=Te,Pe=Ee,Fe=Ie;const es=Ze,Oe=x.forwardRef(({className:t,...l},i)=>e.jsx(De,{ref:i,className:D("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...l}));Oe.displayName=De.displayName;const R=x.forwardRef(({className:t,...l},i)=>e.jsx(Pe,{ref:i,className:D("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...l}));R.displayName=Pe.displayName;const E=x.forwardRef(({className:t,...l},i)=>e.jsx(Fe,{ref:i,className:D("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l}));E.displayName=Fe.displayName;const ss=({type:t,onCancel:l,onSave:i})=>{const[s,c]=x.useState(t);return e.jsx(P,{open:!0,onOpenChange:a=>{a||l()},children:e.jsxs(F,{children:[e.jsx(O,{children:e.jsx(q,{children:t.id?"Edit DeviceType":"Add New DeviceType"})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"name",className:"text-right",children:["Type",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{id:"name",className:"col-span-3",value:s.name,onChange:a=>c({...s,name:a.target.value})})]})}),e.jsx(L,{children:e.jsx(v,{type:"submit",onClick:()=>{if(!s.name){S({title:"Error",description:"Please enter a valid name",variant:"destructive"});return}i(s)},children:"Save"})})]})})},as=()=>{const{deviceType:t,updateCatalog:l}=w(k(a=>({deviceType:a.data.device.type,updateCatalog:a.updateCatalog}))),[i,s]=x.useState(),c=a=>{a.id?l("edit","device-type",a):l("add","device-type",a),s(void 0)};return e.jsxs(G,{children:[i?e.jsx(ss,{type:i,onCancel:()=>s(void 0),onSave:c}):null,e.jsxs(K,{children:[e.jsx(U,{children:"Device Status Management"}),e.jsx(z,{children:"View and manage device status"})]}),e.jsxs(X,{children:[e.jsx("div",{className:"flex justify-end items-center mb-4",children:e.jsxs(v,{onClick:()=>s({}),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"})," Add Device Type"]})}),e.jsxs(J,{children:[e.jsx(Q,{children:e.jsxs(C,{children:[e.jsx(m,{children:"Index"}),e.jsx(m,{children:"Type"}),e.jsx(m,{className:"text-right",children:"Actions"})]})}),e.jsx(W,{children:Object.entries(t).map(([a,n],o)=>e.jsxs(C,{children:[e.jsx(u,{children:o+1}),e.jsx(u,{children:n.name}),e.jsx(u,{className:"text-right",children:e.jsxs(_,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(v,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Z,{className:"h-4 w-4"})]})}),e.jsxs($,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(N,{onClick:()=>s(n),children:"Edit Type"}),e.jsx(H,{}),e.jsx(N,{className:"text-red-600",onClick:()=>l("delete","device-type",n),children:"Remove Type"})]})]})})]},a))})]})]})]})},ts=({type:t,onCancel:l,onSave:i})=>{const[s,c]=x.useState(t);return e.jsx(P,{open:!0,onOpenChange:a=>{a||l()},children:e.jsxs(F,{children:[e.jsx(O,{children:e.jsx(q,{children:t.id?"Edit RequestType":"Add New RequestType"})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"name",className:"text-right",children:["Type",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{id:"name",className:"col-span-3",value:s.name,onChange:a=>c({...s,name:a.target.value})})]})}),e.jsx(L,{children:e.jsx(v,{type:"submit",onClick:()=>{if(!s.name){S({title:"Error",description:"Please enter a type name",variant:"destructive"});return}i(s)},children:"Save"})})]})})},ns=()=>{const{requestType:t,updateCatalog:l}=w(k(a=>({requestType:a.data.request.type,updateCatalog:a.updateCatalog}))),[i,s]=x.useState(),c=a=>{a.id?l("edit","request-type",a):l("add","request-type",a),s(void 0)};return e.jsxs(G,{children:[i?e.jsx(ts,{type:i,onCancel:()=>s(void 0),onSave:c}):null,e.jsxs(K,{children:[e.jsx(U,{children:"Request Status Management"}),e.jsx(z,{children:"View and manage request status"})]}),e.jsxs(X,{children:[e.jsx("div",{className:"flex justify-end items-center mb-4",children:e.jsxs(v,{onClick:()=>s({}),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"})," Add Request Type"]})}),e.jsxs(J,{children:[e.jsx(Q,{children:e.jsxs(C,{children:[e.jsx(m,{children:"Index"}),e.jsx(m,{children:"Type"}),e.jsx(m,{className:"text-right",children:"Actions"})]})}),e.jsx(W,{children:Object.entries(t).map(([a,n],o)=>e.jsxs(C,{children:[e.jsx(u,{children:o+1}),e.jsx(u,{children:n.name}),e.jsx(u,{className:"text-right",children:e.jsxs(_,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(v,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Z,{className:"h-4 w-4"})]})}),e.jsxs($,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(N,{onClick:()=>s(n),children:"Edit Type"}),e.jsx(H,{}),e.jsx(N,{className:"text-red-600",onClick:()=>l("delete","request-type",n),children:"Remove Type"})]})]})})]},a))})]})]})]})};var pe="Checkbox",[rs,ks]=fe(pe),[is,ls]=rs(pe),qe=x.forwardRef((t,l)=>{const{__scopeCheckbox:i,name:s,checked:c,defaultChecked:a,required:n,disabled:o,value:r="on",onCheckedChange:h,form:d,...j}=t,[p,ee]=x.useState(null),ae=ze(l,f=>ee(f)),te=x.useRef(!1),ve=p?d||!!p.closest("form"):!0,[T=!1,ne]=Ce({prop:c,defaultProp:a,onChange:h}),Be=x.useRef(T);return x.useEffect(()=>{const f=p==null?void 0:p.form;if(f){const A=()=>ne(Be.current);return f.addEventListener("reset",A),()=>f.removeEventListener("reset",A)}},[p,ne]),e.jsxs(is,{scope:i,state:T,disabled:o,children:[e.jsx(I.button,{type:"button",role:"checkbox","aria-checked":y(T)?"mixed":T,"aria-required":n,"data-state":Ve(T),"data-disabled":o?"":void 0,disabled:o,value:r,...j,ref:ae,onKeyDown:M(t.onKeyDown,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:M(t.onClick,f=>{ne(A=>y(A)?!0:!A),ve&&(te.current=f.isPropagationStopped(),te.current||f.stopPropagation())})}),ve&&e.jsx(cs,{control:p,bubbles:!te.current,name:s,value:r,checked:T,required:n,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:y(a)?!1:a})]})});qe.displayName=pe;var Le="CheckboxIndicator",_e=x.forwardRef((t,l)=>{const{__scopeCheckbox:i,forceMount:s,...c}=t,a=ls(Le,i);return e.jsx(be,{present:s||y(a.state)||a.state===!0,children:e.jsx(I.span,{"data-state":Ve(a.state),"data-disabled":a.disabled?"":void 0,...c,ref:l,style:{pointerEvents:"none",...t.style}})})});_e.displayName=Le;var cs=t=>{const{control:l,checked:i,bubbles:s=!0,defaultChecked:c,...a}=t,n=x.useRef(null),o=Qe(i),r=Xe(l);x.useEffect(()=>{const d=n.current,j=window.HTMLInputElement.prototype,ee=Object.getOwnPropertyDescriptor(j,"checked").set;if(o!==i&&ee){const ae=new Event("click",{bubbles:s});d.indeterminate=y(i),ee.call(d,y(i)?!1:i),d.dispatchEvent(ae)}},[o,i,s]);const h=x.useRef(y(i)?!1:i);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c??h.current,...a,tabIndex:-1,ref:n,style:{...t.style,...r,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(t){return t==="indeterminate"}function Ve(t){return y(t)?"indeterminate":t?"checked":"unchecked"}var $e=qe,ds=_e;const se=x.forwardRef(({className:t,...l},i)=>e.jsx($e,{ref:i,className:D("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...l,children:e.jsx(ds,{className:D("flex items-center justify-center text-current"),children:e.jsx(Je,{className:"h-4 w-4"})})}));se.displayName=$e.displayName;const os=({role:t,onCancel:l,onSave:i})=>{const[s,c]=x.useState(t);return e.jsx(P,{open:!0,onOpenChange:a=>{a||l()},children:e.jsxs(F,{children:[e.jsxs(O,{children:[e.jsx(q,{children:t.id?"Edit Role":"Add New Role"}),e.jsx(xe,{children:"Enter the details of the role here."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"dept-name",className:"text-right",children:["Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{id:"dept-name",className:"col-span-3",value:s.name,onChange:a=>c({...s,name:a.target.value})})]}),e.jsxs("div",{className:"flex justify-around",children:[e.jsxs("div",{className:"flex items-center space-x-1 col-span-1",children:[e.jsx(se,{className:"col-span-3",checked:s.isAdmin,onCheckedChange:a=>{c(a?{...s,isAdmin:!0}:{...s,isAdmin:!1})}}),e.jsx(g,{htmlFor:"dept-name",className:"text-right",children:"Is Admin"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(se,{checked:s.isManager,onCheckedChange:a=>{c(a?{...s,isManager:!0}:{...s,isManager:!1})}}),e.jsx(g,{htmlFor:"dept-name",className:"text-right",children:"Is Manager"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(se,{checked:s.isMaintenance,onCheckedChange:a=>{c(a?{...s,isMaintenance:!0}:{...s,isMaintenance:!1})}}),e.jsx(g,{htmlFor:"dept-name",className:"text-right",children:"Is Maintenance"})]})]})]}),e.jsx(L,{children:e.jsx(v,{type:"submit",onClick:()=>{if(!s.name){S({title:"Error",description:"Name is required",variant:"destructive"});return}i(s)},children:t.id?"Save":"Add"})})]})})},hs=()=>{const{roles:t,updateCatalog:l}=w(k(r=>({roles:r.data.roles,updateCatalog:r.updateCatalog}))),[i,s]=x.useState(""),[c,a]=x.useState(),n=Object.values(t).filter(r=>r.name.toLowerCase().includes(i.toLowerCase())),o=r=>{r.id?l("edit","roles",r):l("add","roles",r),a(void 0)};return e.jsxs(G,{children:[c?e.jsx(os,{role:c,onCancel:()=>a(void 0),onSave:o}):null,e.jsxs(K,{children:[e.jsx(U,{children:"Role Management"}),e.jsx(z,{children:"View and manage role"})]}),e.jsxs(X,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(b,{type:"search",placeholder:"Search role...",className:"pl-8 w-[300px]",value:i,onChange:r=>s(r.target.value)})]}),e.jsxs(v,{onClick:()=>a({}),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"})," Add Role"]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:e.jsxs(C,{children:[e.jsx(m,{children:"Index"}),e.jsx(m,{children:"Role"}),e.jsx(m,{children:"Is Admin"}),e.jsx(m,{children:"Is Manager"}),e.jsx(m,{children:"Is Maintenance"}),e.jsx(m,{className:"text-right",children:"Actions"})]})}),e.jsx(W,{children:n.map((r,h)=>e.jsxs(C,{children:[e.jsx(u,{children:h+1}),e.jsx(u,{children:r.name}),e.jsx(u,{children:r.isAdmin?e.jsx(re,{className:"text-primary"}):e.jsx(ie,{className:"text-destructive"})}),e.jsx(u,{children:r.isManager?e.jsx(re,{className:"text-primary"}):e.jsx(ie,{className:"text-destructive"})}),e.jsx(u,{children:r.isMaintenance?e.jsx(re,{className:"text-primary"}):e.jsx(ie,{className:"text-destructive"})}),e.jsx(u,{className:"text-right",children:e.jsxs(_,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(v,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Z,{className:"h-4 w-4"})]})}),e.jsxs($,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(N,{onClick:()=>a(r),children:"Edit Role"}),e.jsx(H,{}),e.jsx(N,{className:"text-red-600",onClick:()=>l("delete","roles",r),children:"Remove Role"})]})]})})]},r.id))})]})]})]})},xs=({room:t,onCancel:l,onSave:i})=>{const[s,c]=x.useState(t),{users:a}=w(k(n=>({users:n.data.users})));return e.jsx(P,{open:!0,onOpenChange:n=>{n||l()},children:e.jsxs(F,{children:[e.jsxs(O,{children:[e.jsx(q,{children:t.id?"Edit Room":"Add New Room"}),e.jsx(xe,{children:"Enter the details of the department here."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"dept-name",className:"text-right",children:["Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{id:"dept-name",className:"col-span-3",value:s.name,onChange:n=>c({...s,name:n.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(g,{htmlFor:"manager",className:"text-right",children:"Leader"}),e.jsxs(le,{onValueChange:n=>c({...s,leader:n}),children:[e.jsx(ce,{className:"col-span-3",children:e.jsx(de,{placeholder:"Select leader"})}),e.jsx(oe,{children:Object.entries(a).map(([n,o])=>e.jsx(he,{value:n,children:o.name},n))})]})]})]}),e.jsx(L,{children:e.jsx(v,{type:"submit",onClick:()=>{if(!s.name){S({title:"Error",description:"Name is required",variant:"destructive"});return}i(s)},children:t.id?"Save":"Add"})})]})})},ms=()=>{const{users:t,rooms:l,updateCatalog:i}=w(k(h=>({users:h.data.users,rooms:h.data.rooms,updateCatalog:h.updateCatalog}))),[s,c]=x.useState(""),[a,n]=x.useState(),o=Object.values(l).filter(h=>h.name.toLowerCase().includes(s.toLowerCase())),r=h=>{h.id?i("edit","rooms",h):i("add","rooms",h),n(void 0)};return e.jsxs(G,{children:[a?e.jsx(xs,{room:a,onCancel:()=>n(void 0),onSave:r}):null,e.jsxs(K,{children:[e.jsx(U,{children:"Room Management"}),e.jsx(z,{children:"View and manage company departments"})]}),e.jsxs(X,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(b,{type:"search",placeholder:"Search departments...",className:"pl-8 w-[300px]",value:s,onChange:h=>c(h.target.value)})]}),e.jsxs(v,{onClick:()=>n({}),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"})," Add Room"]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:e.jsxs(C,{children:[e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Manager"}),e.jsx(m,{className:"text-right",children:"Actions"})]})}),e.jsx(W,{children:o.map(h=>{var d;return e.jsxs(C,{children:[e.jsx(u,{children:h.name}),e.jsx(u,{children:((d=t[h.leader])==null?void 0:d.name)||h.leader}),e.jsx(u,{className:"text-right",children:e.jsxs(_,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(v,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Z,{className:"h-4 w-4"})]})}),e.jsxs($,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(N,{onClick:()=>n(h),children:"Edit Room"}),e.jsx(H,{}),e.jsx(N,{className:"text-red-600",onClick:()=>i("delete","rooms",h),children:"Remove Room"})]})]})})]},h.id)})})]})]})]})},us=({user:t,onCancel:l,onSave:i})=>{const{rooms:s,roles:c,users:a}=w(k(r=>({rooms:r.data.rooms,roles:r.data.roles,users:r.data.users}))),[n,o]=x.useState(t);return e.jsx(P,{open:!0,onOpenChange:r=>{r||l()},children:e.jsxs(F,{children:[e.jsxs(O,{children:[e.jsx(q,{children:t.id?"Edit Employee":"Add New Employee"}),e.jsx(xe,{children:"Enter the details of the new employee here."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"name",className:"text-right",children:["Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{id:"name",className:"col-span-3",value:n.name,onChange:r=>o({...n,name:r.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"email",className:"text-right",children:["Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{id:"email",className:"col-span-3",value:n.email,onChange:r=>o({...n,email:r.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"department",className:"text-right",children:["Room",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(le,{value:n.roomId,onValueChange:r=>o({...n,roomId:r}),children:[e.jsx(ce,{className:"col-span-3",children:e.jsx(de,{placeholder:"Select department"})}),e.jsx(oe,{children:Object.entries(s).map(([r,h])=>e.jsx(he,{value:r,children:h.name},r))})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(g,{htmlFor:"position",className:"text-right",children:["Role",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(le,{value:n.roleId,onValueChange:r=>o({...n,roleId:r}),children:[e.jsx(ce,{className:"col-span-3",children:e.jsx(de,{placeholder:"Select Role"})}),e.jsx(oe,{children:Object.entries(c).map(([r,h])=>e.jsx(he,{value:r,children:h.name},r))})]})]})]}),e.jsx(L,{children:e.jsx(v,{type:"submit",onClick:()=>{if(!n.name||!n.email||!n.roomId||!n.roleId){S({title:"Error",description:"Please fill in all the required fields.",variant:"destructive"});return}if(Object.values(a).find(r=>r.id!==n.id&&r.email===n.email)){S({title:"Error",description:"User with this email already exists.",variant:"destructive"});return}i(n)},children:"Save"})})]})})},js=()=>{const{users:t,rooms:l,roles:i,updateCatalog:s}=w(k(d=>({users:d.data.users,rooms:d.data.rooms,roles:d.data.roles,updateCatalog:d.updateCatalog}))),[c,a]=x.useState(""),[n,o]=x.useState(),r=Object.values(t).filter(d=>d.name.toLowerCase().includes(c.toLowerCase())),h=d=>{d.id?s("edit","users",d):s("add","users",d),o(void 0)};return e.jsxs(G,{children:[n?e.jsx(us,{user:n,onCancel:()=>o(void 0),onSave:h}):null,e.jsxs(K,{children:[e.jsx(U,{children:"Users Management"}),e.jsx(z,{children:"View and manage company personnel"})]}),e.jsxs(X,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(b,{type:"search",placeholder:"Search personnel...",className:"pl-8 w-[300px]",value:c,onChange:d=>a(d.target.value)})]}),e.jsxs(v,{onClick:()=>o({}),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"})," Add User"]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:e.jsxs(C,{children:[e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Email"}),e.jsx(m,{children:"Room"}),e.jsx(m,{children:"Role"}),e.jsx(m,{className:"text-right",children:"Actions"})]})}),e.jsx(W,{children:r.map(d=>{var j,p;return e.jsxs(C,{children:[e.jsx(u,{children:d.name}),e.jsx(u,{children:d.email}),e.jsx(u,{children:(j=l[d.roomId])==null?void 0:j.name}),e.jsx(u,{children:((p=i[d.roleId])==null?void 0:p.name)||d.roleId}),e.jsx(u,{className:"text-right",children:e.jsxs(_,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(v,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Z,{className:"h-4 w-4"})]})}),e.jsxs($,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(N,{onClick:()=>o(d),children:"Edit Employee"}),e.jsx(H,{}),e.jsx(N,{className:"text-red-600",onClick:()=>s("delete","users",d),children:"Remove Employee"})]})]})})]},d.id)})})]})]})]})};function Ts(){return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Company Control Panel"}),e.jsxs(es,{defaultValue:"users",className:"space-y-4",children:[e.jsxs(Oe,{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx(R,{value:"users",children:"Users"}),e.jsx(R,{value:"rooms",children:"Rooms"}),e.jsx(R,{value:"roles",children:"Roles"})]}),e.jsxs("div",{children:[e.jsx(R,{value:"device-type",children:"Device Type"}),e.jsx(R,{value:"request-type",children:"Request Type"})]})]}),e.jsx(E,{value:"users",children:e.jsx(js,{})}),e.jsx(E,{value:"rooms",children:e.jsx(ms,{})}),e.jsx(E,{value:"roles",children:e.jsx(hs,{})}),e.jsx(E,{value:"device-type",children:e.jsx(as,{})}),e.jsx(E,{value:"request-type",children:e.jsx(ns,{})})]})]})}export{Ts as default};
