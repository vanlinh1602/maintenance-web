import{r as o,j as e,v,D as R,b as E,d as D,e as k,i as A,B as m,a as C,u as b,f as G}from"./index-CGi-Suzj.js";import{T as K,a as Q,b as S,c as T}from"./tabs-CJUYC39F.js";import{C as F,a as O,b as M,d as q,c as I}from"./card-cqz_ZksU.js";import{D as L,a as P,E as H,b as V,c as B,d as g,e as U}from"./dropdown-menu-BQ24iNsp.js";import{I as j,P as _,S as J}from"./input-CaR1ULlg.js";import{L as p}from"./label-wgjF76KL.js";import{S as W,a as X,b as Y,c as Z,d as $}from"./select-0ZZsy_Y5.js";import"./index-CNoRdSBJ.js";const f=o.forwardRef(({className:r,...a},l)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:l,className:v("w-full caption-bottom text-sm",r),...a})}));f.displayName="Table";const y=o.forwardRef(({className:r,...a},l)=>e.jsx("thead",{ref:l,className:v("[&_tr]:border-b",r),...a}));y.displayName="TableHeader";const w=o.forwardRef(({className:r,...a},l)=>e.jsx("tbody",{ref:l,className:v("[&_tr:last-child]:border-0",r),...a}));w.displayName="TableBody";const ee=o.forwardRef(({className:r,...a},l)=>e.jsx("tfoot",{ref:l,className:v("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a}));ee.displayName="TableFooter";const u=o.forwardRef(({className:r,...a},l)=>e.jsx("tr",{ref:l,className:v("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a}));u.displayName="TableRow";const h=o.forwardRef(({className:r,...a},l)=>e.jsx("th",{ref:l,className:v("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a}));h.displayName="TableHead";const x=o.forwardRef(({className:r,...a},l)=>e.jsx("td",{ref:l,className:v("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a}));x.displayName="TableCell";const se=o.forwardRef(({className:r,...a},l)=>e.jsx("caption",{ref:l,className:v("mt-4 text-sm text-muted-foreground",r),...a}));se.displayName="TableCaption";const ae=({status:r,onCancel:a,onSave:l})=>{const[t,i]=o.useState(r);return e.jsx(R,{open:!0,onOpenChange:s=>{s||a()},children:e.jsxs(E,{children:[e.jsx(D,{children:e.jsx(k,{children:"Add New DeviceStatus"})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"name",className:"text-right",children:"Status"}),e.jsx(j,{id:"name",className:"col-span-3",value:t.status,onChange:s=>i({...t,status:s.target.value})})]})}),e.jsx(A,{children:e.jsx(m,{type:"submit",onClick:()=>l(t),children:"Save"})})]})})},le=()=>{const{deviceStatus:r,updateCatalog:a}=C(b(s=>({deviceStatus:s.data.device.status,updateCatalog:s.updateCatalog}))),[l,t]=o.useState(),i=s=>{s.id?a("edit","device-status",s):a("add","device-status",s),t(void 0)};return e.jsxs(F,{children:[l?e.jsx(ae,{status:l,onCancel:()=>t(void 0),onSave:i}):null,e.jsxs(O,{children:[e.jsx(M,{children:"Personnel Management"}),e.jsx(q,{children:"View and manage company personnel"})]}),e.jsxs(I,{children:[e.jsx("div",{className:"flex justify-end items-center mb-4",children:e.jsxs(m,{onClick:()=>t({}),children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Add Device Status"]})}),e.jsxs(f,{children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(h,{children:"Id"}),e.jsx(h,{children:"Status"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:Object.entries(r).map(([s,n])=>e.jsxs(u,{children:[e.jsx(x,{children:s}),e.jsx(x,{children:n.status}),e.jsx(x,{className:"text-right",children:e.jsxs(L,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(H,{className:"h-4 w-4"})]})}),e.jsxs(V,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(g,{onClick:()=>t(n),children:"Edit Status"}),e.jsx(U,{}),e.jsx(g,{className:"text-red-600",onClick:()=>a("delete","device-status",n),children:"Remove"})]})]})})]},s))})]})]})]})},re=({type:r,onCancel:a,onSave:l})=>{const[t,i]=o.useState(r);return e.jsx(R,{open:!0,onOpenChange:s=>{s||a()},children:e.jsxs(E,{children:[e.jsx(D,{children:e.jsx(k,{children:r.id?"Edit DeviceType":"Add New DeviceType"})}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"name",className:"text-right",children:"Type"}),e.jsx(j,{id:"name",className:"col-span-3",value:t.type,onChange:s=>i({...t,type:s.target.value})})]})}),e.jsx(A,{children:e.jsx(m,{type:"submit",onClick:()=>l(t),children:"Save"})})]})})},te=()=>{const{deviceType:r,updateCatalog:a}=C(b(s=>({deviceType:s.data.device.type,updateCatalog:s.updateCatalog}))),[l,t]=o.useState(),i=s=>{s.id?a("edit","device-type",s):a("add","device-type",s),t(void 0)};return e.jsxs(F,{children:[l?e.jsx(re,{type:l,onCancel:()=>t(void 0),onSave:i}):null,e.jsx(O,{children:e.jsx(M,{children:"Device Status Management"})}),e.jsxs(I,{children:[e.jsx("div",{className:"flex justify-end items-center mb-4",children:e.jsxs(m,{onClick:()=>t({}),children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Add Device Type"]})}),e.jsxs(f,{children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(h,{children:"Id"}),e.jsx(h,{children:"Type"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:Object.entries(r).map(([s,n])=>e.jsxs(u,{children:[e.jsx(x,{children:s}),e.jsx(x,{children:n.type}),e.jsx(x,{className:"text-right",children:e.jsxs(L,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(H,{className:"h-4 w-4"})]})}),e.jsxs(V,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(g,{onClick:()=>t(n),children:"Edit Type"}),e.jsx(U,{}),e.jsx(g,{className:"text-red-600",onClick:()=>a("delete","device-type",n),children:"Remove Type"})]})]})})]},s))})]})]})]})},ne=({room:r,onCancel:a,onSave:l})=>{const[t,i]=o.useState(r);return e.jsx(R,{open:!0,onOpenChange:s=>{s||a()},children:e.jsxs(E,{children:[e.jsxs(D,{children:[e.jsx(k,{children:r.id?"Edit Room":"Add New Room"}),e.jsx(G,{children:"Enter the details of the department here."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"dept-name",className:"text-right",children:"Name"}),e.jsx(j,{id:"dept-name",className:"col-span-3",value:t.name,onChange:s=>i({...t,name:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"manager",className:"text-right",children:"Leader"}),e.jsx(j,{id:"leader",className:"col-span-3",value:t.leader,onChange:s=>i({...t,leader:s.target.value})})]})]}),e.jsx(A,{children:e.jsx(m,{type:"submit",onClick:()=>l(t),children:r.id?"Save":"Add"})})]})})},ie=()=>{const{rooms:r,updateCatalog:a}=C(b(d=>({users:d.data.users,rooms:d.data.rooms,updateCatalog:d.updateCatalog}))),[l,t]=o.useState(""),[i,s]=o.useState(),n=Object.values(r).filter(d=>d.name.toLowerCase().includes(l.toLowerCase())),N=d=>{d.id?a("edit","rooms",d):a("add","rooms",d),s(void 0)};return e.jsxs(F,{children:[i?e.jsx(ne,{room:i,onCancel:()=>s(void 0),onSave:N}):null,e.jsxs(O,{children:[e.jsx(M,{children:"Room Management"}),e.jsx(q,{children:"View and manage company departments"})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(j,{type:"search",placeholder:"Search departments...",className:"pl-8 w-[300px]",value:l,onChange:d=>t(d.target.value)})]}),e.jsxs(m,{onClick:()=>s({}),children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Add Room"]})]}),e.jsxs(f,{children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(h,{children:"Name"}),e.jsx(h,{children:"Manager"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:n.map(d=>e.jsxs(u,{children:[e.jsx(x,{children:d.name}),e.jsx(x,{children:d.leader}),e.jsx(x,{className:"text-right",children:e.jsxs(L,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(H,{className:"h-4 w-4"})]})}),e.jsxs(V,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(g,{onClick:()=>s(d),children:"Edit Room"}),e.jsx(U,{}),e.jsx(g,{className:"text-red-600",onClick:()=>a("delete","rooms",d),children:"Remove Room"})]})]})})]},d.id))})]})]})]})},de=({user:r,onCancel:a,onSave:l})=>{const{rooms:t}=C(b(n=>({rooms:n.data.rooms}))),[i,s]=o.useState(r);return e.jsx(R,{open:!0,onOpenChange:n=>{n||a()},children:e.jsxs(E,{children:[e.jsxs(D,{children:[e.jsx(k,{children:"Add New Personnel"}),e.jsx(G,{children:"Enter the details of the new employee here."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"name",className:"text-right",children:"Name"}),e.jsx(j,{id:"name",className:"col-span-3",value:i.name,onChange:n=>s({...i,name:n.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"email",className:"text-right",children:"Email"}),e.jsx(j,{id:"email",className:"col-span-3",value:i.email,onChange:n=>s({...i,email:n.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"department",className:"text-right",children:"Room"}),e.jsxs(W,{onValueChange:n=>s({...i,roomId:n}),children:[e.jsx(X,{className:"col-span-3",children:e.jsx(Y,{placeholder:"Select department"})}),e.jsx(Z,{children:Object.entries(t).map(([n,N])=>e.jsx($,{value:n,children:N.name},n))})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(p,{htmlFor:"position",className:"text-right",children:"Role"}),e.jsx(j,{id:"position",className:"col-span-3",value:i.roleId,onChange:n=>s({...i,roleId:n.target.value})})]})]}),e.jsx(A,{children:e.jsx(m,{type:"submit",onClick:()=>{l(i)},children:"Add Employee"})})]})})},ce=()=>{const{users:r,rooms:a,updateCatalog:l}=C(b(c=>({users:c.data.users,rooms:c.data.rooms,updateCatalog:c.updateCatalog}))),[t,i]=o.useState(""),[s,n]=o.useState(),N=Object.values(r).filter(c=>c.name.toLowerCase().includes(t.toLowerCase()));console.log("filteredPersonnel",N);const d=c=>{c.id?l("edit","users",c):l("add","users",c),n(void 0)};return e.jsxs(F,{children:[s?e.jsx(de,{user:s,onCancel:()=>n(void 0),onSave:d}):null,e.jsxs(O,{children:[e.jsx(M,{children:"Users Management"}),e.jsx(q,{children:"View and manage company personnel"})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(j,{type:"search",placeholder:"Search personnel...",className:"pl-8 w-[300px]",value:t,onChange:c=>i(c.target.value)})]}),e.jsxs(m,{onClick:()=>n({}),children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Add Personnel"]})]}),e.jsxs(f,{children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(h,{children:"Name"}),e.jsx(h,{children:"Room"}),e.jsx(h,{children:"Role"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:N.map(c=>{var z;return e.jsxs(u,{children:[e.jsx(x,{children:c.name}),e.jsx(x,{children:(z=a[c.roomId])==null?void 0:z.name}),e.jsx(x,{children:c.roleId}),e.jsx(x,{className:"text-right",children:e.jsxs(L,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(H,{className:"h-4 w-4"})]})}),e.jsxs(V,{align:"end",children:[e.jsx(B,{children:"Actions"}),e.jsx(g,{onClick:()=>n(c),children:"Edit Employee"}),e.jsx(U,{}),e.jsx(g,{className:"text-red-600",onClick:()=>l("delete","users",c),children:"Remove Employee"})]})]})})]},c.id)})})]})]})]})};function ve(){return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Company Control Panel"}),e.jsxs(K,{defaultValue:"users",className:"space-y-4",children:[e.jsxs(Q,{children:[e.jsx(S,{value:"users",children:"Users"}),e.jsx(S,{value:"rooms",children:"Rooms"}),e.jsx(S,{value:"device-status",children:"Device Status"}),e.jsx(S,{value:"device-type",children:"Device Type"})]}),e.jsx(T,{value:"users",children:e.jsx(ce,{})}),e.jsx(T,{value:"rooms",children:e.jsx(ie,{})}),e.jsx(T,{value:"device-status",children:e.jsx(le,{})}),e.jsx(T,{value:"device-type",children:e.jsx(te,{})})]})]})}export{ve as default};
