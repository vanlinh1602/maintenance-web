import{T as A,b as d,d as I,r as t,j as e,B as P}from"./index-CfFH1LjD.js";import{u as H,h as O}from"./hooks-wJSTJ-Ih.js";import{B as R,d as w,r as q}from"./options-BrKX2hC9.js";import{C as c,a as l,b as n,c as o}from"./card-DN_1rcS3.js";import{L as i}from"./label-50ah4DG1.js";import"./textarea-Cta2LOrO.js";import"./select-Bk9xR7qg.js";import{R as W}from"./index-BSUFXHe-.js";import{f as x}from"./calendar-BbxLq_4U.js";import{u as z}from"./hooks-ceS6wIrN.js";import"./input-CpeUivEp.js";function ee(){var u,v,f,g,y,D;const{id:a}=A(),{devices:m,getFilterDevice:L}=H(d(r=>({devices:r.data,getFilterDevice:r.getFilterDevice}))),{requests:j,getRequestByFilter:S}=z(d(r=>({getRequestByFilter:r.getRequestByFilter,requests:r.data}))),{users:B,rooms:T,deviceTypes:h,requestTypes:E}=I(d(r=>({rooms:r.data.rooms,users:r.data.users,deviceTypes:r.data.device.type,requestTypes:r.data.request.type}))),s=t.useMemo(()=>m[a||""]||{},[m,a]),F=t.useMemo(()=>Object.values(j).filter(({deviceId:r})=>r===a),[j,a]);t.useEffect(()=>{s.id||L({id:a}),S({deviceId:a})},[a]);const[k,p]=t.useState(!1);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k&&e.jsx(W,{device:s,onClose:()=>p(!1)}),e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:s.name}),e.jsx("p",{className:"text-xl text-muted-foreground",children:(u=h[s.type])==null?void 0:u.name})]}),e.jsx(R,{className:"text-xs py-1 px-3",style:{backgroundColor:(v=w[s.status])==null?void 0:v.color},children:(f=w[s.status])==null?void 0:f.name})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(c,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex justify-between",children:[e.jsx("div",{children:"Device Details"}),e.jsx(P,{onClick:()=>p(!0),children:"Create Request"})]})}),e.jsx(o,{className:"grid gap-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Model"}),e.jsx("p",{children:(g=h[s.type])==null?void 0:g.name})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Serial Number"}),e.jsx("p",{children:s.serial})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Purchase Date"}),e.jsx("p",{children:s.purchaseDate?x(new Date(s.purchaseDate),"dd/LL/y"):null})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Location"}),e.jsx("p",{children:(y=T[s.roomId||""])==null?void 0:y.name})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Assigned To"}),e.jsx("p",{children:(D=B[s.employeeId||""])==null?void 0:D.name})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Assign Date"}),e.jsx("p",{children:s.assignedDate?x(new Date(s.assignedDate),"dd/LL/y"):""})]})]})})]}),e.jsxs(c,{children:[e.jsx(l,{children:e.jsx(n,{children:"Specifications"})}),e.jsx(o,{className:"grid gap-4",children:e.jsxs("div",{className:"flex space-x-3 justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx(i,{children:"Warranty ExpireDate"}),e.jsx("p",{children:s.warrantyExpireDate?x(new Date(s.warrantyExpireDate),"dd/LL/y"):null})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Description"}),e.jsx("p",{children:s.description})]})]}),e.jsx("img",{src:s.image,alt:s.name,className:"w-80 object-cover rounded-lg"})]})})]}),e.jsxs(c,{className:"md:col-span-2",children:[e.jsx(l,{children:e.jsx(n,{children:"Maintenance History"})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:F.map((r,M)=>{var N,b,C;return e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:((N=E[r.type])==null?void 0:N.name)||r.type}),e.jsx("p",{className:"text-sm text-muted-foreground",children:O(r.createdAt).format("ll")})]}),e.jsx(R,{style:{backgroundColor:(b=q[r.status])==null?void 0:b.color},children:(C=q[r.status])==null?void 0:C.name})]}),e.jsx("p",{className:"mt-2",children:r.description})]},M)})})})]})]})]})}export{ee as default};
