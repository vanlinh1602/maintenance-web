import{S as A,f as d,h as I,r as t,j as e,B as P}from"./index-DVFDKlcv.js";import{u as H,h as O}from"./hooks-28YVt9aP.js";import{B as R,d as q,r as S}from"./options-YKJpdElC.js";import{C as c,a as l,b as n,c as o}from"./card-PyWpcb_t.js";import{L as i}from"./label-DuOUMB3r.js";import"./textarea-B-3oHILt.js";import"./select-Bn3wcZhV.js";import{R as W}from"./index-BZNuG8HG.js";import{f as x}from"./calendar-CHF10eXH.js";import{u as z}from"./hooks-CYUBZkOm.js";function $(){var u,v,f,g,y,D;const{id:a}=A(),{devices:m,getFilterDevice:w}=H(d(s=>({devices:s.data,getFilterDevice:s.getFilterDevice}))),{requests:h,getRequestByFilter:L}=z(d(s=>({getRequestByFilter:s.getRequestByFilter,requests:s.data}))),{users:B,rooms:E,deviceTypes:j,requestTypes:F}=I(d(s=>({rooms:s.data.rooms,users:s.data.users,deviceTypes:s.data.device.type,requestTypes:s.data.request.type}))),r=t.useMemo(()=>m[a||""]||{},[m,a]),T=t.useMemo(()=>Object.values(h).filter(({deviceId:s})=>s===a),[h,a]);t.useEffect(()=>{r.id||w({id:a}),L({deviceId:a})},[a]);const[k,p]=t.useState(!1);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k&&e.jsx(W,{device:r,onClose:()=>p(!1)}),e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:r.name}),e.jsx("p",{className:"text-xl text-muted-foreground",children:(u=j[r.type])==null?void 0:u.name})]}),e.jsx(R,{className:"text-xs py-1 px-3",style:{backgroundColor:(v=q[r.status])==null?void 0:v.color},children:(f=q[r.status])==null?void 0:f.name})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(c,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex justify-between",children:[e.jsx("div",{children:"Device Details"}),e.jsx(P,{onClick:()=>p(!0),children:"Create Request"})]})}),e.jsx(o,{className:"grid gap-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Model"}),e.jsx("p",{children:(g=j[r.type])==null?void 0:g.name})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Serial Number"}),e.jsx("p",{children:r.serial})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Purchase Date"}),e.jsx("p",{children:r.purchaseDate?x(new Date(r.purchaseDate),"dd/LL/y"):null})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Location"}),e.jsx("p",{children:(y=E[r.roomId||""])==null?void 0:y.name})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Assigned To"}),e.jsx("p",{children:(D=B[r.employeeId||""])==null?void 0:D.name})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Assign Date"}),e.jsx("p",{children:r.assignedDate?x(new Date(r.assignedDate),"dd/LL/y"):""})]})]})})]}),e.jsxs(c,{children:[e.jsx(l,{children:e.jsx(n,{children:"Specifications"})}),e.jsxs(o,{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Warranty ExpireDate"}),e.jsx("p",{children:r.warrantyExpireDate?x(new Date(r.warrantyExpireDate),"dd/LL/y"):null})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Description"}),e.jsx("p",{children:r.description})]})]})]}),e.jsxs(c,{className:"md:col-span-2",children:[e.jsx(l,{children:e.jsx(n,{children:"Maintenance History"})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:T.map((s,M)=>{var N,b,C;return e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:((N=F[s.type])==null?void 0:N.name)||s.type}),e.jsx("p",{className:"text-sm text-muted-foreground",children:O(s.createdAt).format("ll")})]}),e.jsx(R,{style:{backgroundColor:(b=S[s.status])==null?void 0:b.color},children:(C=S[s.status])==null?void 0:C.name})]}),e.jsx("p",{className:"mt-2",children:s.description})]},M)})})})]})]})]})}export{$ as default};
